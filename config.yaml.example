# Foothold Checkpoint Tool - Configuration Example
#
# Copy this file to config.yaml in your working directory or ~/.foothold-checkpoint/config.yaml
# The tool will auto-create a default config file on first run.
#
# ⚠️ BREAKING CHANGE in v1.1.0: Campaign configuration now uses explicit file lists
# instead of regex patterns. See migration guide below.

# Directory where checkpoints are stored
checkpoints_dir: ~/.foothold-checkpoints

# DCS servers configuration
servers:
  production-1:
    path: D:\Servers\DCS-Production-1\Missions\Saves
    description: "Main production server"

  production-2:
    path: D:\Servers\DCS-Production-2\Missions\Saves
    description: "Secondary production server"

  test-server:
    path: D:\Servers\DCS-Test\Missions\Saves
    description: "Test and development server"

# Campaign configurations
#
# ⚠️ v2.0.0+ Recommended: Use external campaigns.yaml file (DRY configuration for CLI + plugin)
# Copy campaigns.yaml.example to ~/.foothold-checkpoint/campaigns.yaml and customize it.
# Then uncomment the line below:
#
# campaigns_file: campaigns.yaml
#
# OR use inline campaign definitions (legacy v1.x format):
# (Either campaigns_file OR inline campaigns, not both)

campaigns:
  afghanistan:
    display_name: "Afghanistan"
    files:
      persistence:
        - "foothold_afghanistan.lua"
      ctld_save:
        files:
          - "foothold_afghanistan_CTLD_Save.csv"
        optional: true
      ctld_farps:
        files:
          - "foothold_afghanistan_CTLD_FARPS.csv"
        optional: true
      storage:
        files:
          - "foothold_afghanistan_storage.csv"
        optional: true

  caucasus:
    display_name: "Caucasus"
    files:
      persistence:
        - "FootHold_CA_v0.2.lua"
      ctld_save:
        files:
          - "FootHold_CA_v0.2_CTLD_Save.csv"
          - "FootHold_CA_CTLD_Save_Modern.csv"
        optional: true
      ctld_farps:
        files:
          - "FootHold_CA_v0.2_CTLD_FARPS.csv"
          - "Foothold_CA_CTLD_FARPS_Modern.csv"
        optional: true
      storage:
        files:
          - "FootHold_CA_v0.2_storage.csv"
        optional: true

  # Example with campaign name evolution (old names still accepted)
  germany_modern:
    display_name: "Germany Modern"
    files:
      persistence:
        # First name = canonical (current) name used on restore
        - "FootHold_Germany_Modern_V0.1.lua"
        # Additional accepted names (historical/legacy)
        - "FootHold_GCW_Modern.lua"
      ctld_save:
        files:
          - "FootHold_Germany_Modern_V0.1_CTLD_Save.csv"
          - "FootHold_GCW_Modern_CTLD_Save.csv"
        optional: true
      ctld_farps:
        files:
          - "FootHold_Germany_Modern_V0.1_CTLD_FARPS.csv"
          - "FootHold_GCW_Modern_CTLD_FARPS.csv"
        optional: true
      storage:
        files:
          - "FootHold_Germany_Modern_V0.1_storage.csv"
          - "FootHold_GCW_Modern_storage.csv"
        optional: true

  germany_coldwar:
    display_name: "Germany Cold War"
    files:
      persistence:
        - "FootHold_Germany_ColdWar_V0.1.lua"
        - "FootHold_GCW_ColdWar.lua"
      ctld_save:
        files:
          - "FootHold_Germany_ColdWar_V0.1_CTLD_Save.csv"
          - "FootHold_GCW_ColdWar_CTLD_Save.csv"
        optional: true
      ctld_farps:
        files:
          - "FootHold_Germany_ColdWar_V0.1_CTLD_FARPS.csv"
          - "FootHold_GCW_ColdWar_CTLD_FARPS.csv"
        optional: true
      storage:
        files:
          - "FootHold_Germany_ColdWar_V0.1_storage.csv"
          - "FootHold_GCW_ColdWar_storage.csv"
        optional: true

  sinai:
    display_name: "Sinai"
    files:
      persistence:
        - "FootHold_SI_v0.3.lua"
      ctld_save:
        files:
          - "FootHold_SI_v0.3_CTLD_Save.csv"
        optional: true
      ctld_farps:
        files:
          - "FootHold_SI_v0.3_CTLD_FARPS.csv"
        optional: true
      storage:
        files:
          - "FootHold_SI_v0.3_storage.csv"
        optional: true

  persiangulf:
    display_name: "Persian Gulf"
    files:
      persistence:
        - "foothold_persiangulf.lua"
      ctld_save:
        files:
          - "FootHold_PG_CTLD_Save_Modern.csv"
        optional: true
      ctld_farps:
        files:
          - "Foothold_PG_CTLD_FARPS_Modern.csv"
        optional: true
      storage:
        files: []
        optional: true

  persiangulf_coldwar:
    display_name: "Persian Gulf Cold War"
    files:
      persistence:
        - "foothold_persiangulf_Coldwar.lua"
      ctld_save:
        files:
          - "Foothold_PG_CTLD_Save_Coldwar.csv"
        optional: true
      ctld_farps:
        files:
          - "Foothold_PG_CTLD_FARPS_Coldwar.csv"
        optional: true
      storage:
        files: []
        optional: true

  syria:
    display_name: "Syria"
    files:
      persistence:
        - "footholdSyria_Extended_0.1.lua"
      ctld_save:
        files:
          - "FootHold_SY_Extended_CTLD_Modern.csv"
        optional: true
      ctld_farps:
        files:
          - "Foothold_SY_Extended_CTLD_FARPS_Modern.csv"
        optional: true
      storage:
        files: []
        optional: true

# Migration Guide from v1.0.x to v1.1.0:
#
# OLD format (v1.0.x):
#   campaigns:
#     Afghanistan: ["afghanistan"]
# 
# NEW format (v1.1.0):
#   campaigns:
#     afghanistan:         # Use lowercase ID for consistency
#       display_name: "Afghanistan"
#       files:
#         persistence:
#           - "foothold_afghanistan.lua"
#         ctld_save:
#           files: []
#           optional: true
#         ctld_farps:
#           files: []
#           optional: true
#         storage:
#           files: []
#           optional: true
#
# Benefits of new format:
#  ✓ Explicit: All files are listed, no regex guessing
#  ✓ Optional files: Skip missing files without errors
#  ✓ Name evolution: Support for renaming files over time
#  ✓ Better errors: Shows exactly what's configured vs. what's found
#  ✓ Auto-renaming: Old checkpoints restored with new file names
